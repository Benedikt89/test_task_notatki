{"version":3,"sources":["redux/app/selectors.ts","types/typeHelpers.ts","constants/languageType.ts","redux/data/fetchHandler.ts","redux/firebase.ts","constants/avatarImages.ts","redux/app/appAPI.ts","redux/app/actions.ts","redux/app/reducer.ts","redux/data/api.ts","redux/data/selectors.ts","redux/data/actions.ts","redux/data/reducer.ts","redux/store.ts","assets/background-indexed.png","components/Header/Header.tsx","assets/logo512.png","components/Ticket/TicketMeta.tsx","components/Ticket/Ticket.tsx","views/tickers/TickersView.tsx","views/login/LogInForm.tsx","views/register/RegisterForm.tsx","components/common/ProtectedRoute.tsx","Main.tsx","App.tsx","index.tsx"],"names":["selectFetchingByKey","state","key","app","isFetching","selectErrorByKey","error","selectIsAuth","userData","selectUserData","hasOwnProperty","obj","prop","isList","data","languagesArr","localeInterface","eng","time_format","header_profile","header_log_out","header_tickets","ticket_page_header","ticket_edit_title","ticket_edit_content","ticket_edit_expire_time","ticket_edit_delete","ticket_edit_move","ticket_meta_expire_time","ticket_meta_last_time","add_ticket","log_in","register_now","placeholder_password","placeholder_phone","placeholder_name","error_name","error_phone","error_valid_phone","error_password","button_submit","error_fetch","error_login","error_register","pl","rus","getLocale","lang","language","res","fetchHandler","callback","dispatch","getState","a","batch","_setError","_setFetching","response","content","message","locErr","require","firebase","initializeApp","apiKey","process","authDomain","projectId","db","firestore","avatars","getRandomAvatar","max","length","Math","floor","random","appAPI","logIn","user","collection","where","name","get","forEach","doc","id","common","password","avatar","Error","register","toSend","exists","add","appActionTypes","status","type","setUserData","initialState","appReducer","action","newState","Timestamp","ticketConverter","lastModified","fromDate","Date","expireTime","toDate","ticketsAPI","getTickets","ticket","push","moment","console","log","getLists","getUsers","updateList","list","set","addTicket","updateTicket","deleteTicket","delete","selectListsArr","Object","keys","selectList","listId","selectUser","userId","selectTicketByKey","ticketsActionTypes","_updateItemSuccess","dataType","_deleteTicketSuccess","onTicketUpdate","isNew","newTicketId","creatorId","lastModifiedId","order","newTicket","title","dataReducer","d","filter","rootReducer","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","Header","Layout","AppHeader","this","props","logOut","setLanguage","toDisplay","split","splice","join","className","style","backgroundImage","headerBackground","to","src","alt","color","overlay","Item","onClick","float","backgroundColor","verticalAlign","size","gap","map","marginRight","React","TicketMeta","useSelector","description","Text","Typography","Title","disabledDate","current","endOf","Ticket","ticketId","loading","useState","editField","setEditField","useDispatch","deleteItem","useCallback","resFrom","moveItem","lists","removeFrom","addTo","addToId","l","resTo","menu","icon","EditOutlined","fontSize","ClockCircleOutlined","ArrowsAltOutlined","DeleteOutlined","onUpdate","val","spinning","format","defaultValue","showTime","onChange","editable","editing","extra","trigger","it","i","EllipsisOutlined","width","margin","actions","isBefore","Panel","Collapse","TicketPage","onUpdateList","defaultActiveKey","header","maxWidth","SettingOutlined","event","stopPropagation","maxHeight","minWidth","LoginForm","initialValues","remember","onFinish","values","label","rules","required","prefix","UserOutlined","placeholder","Password","LockOutlined","htmlType","UserRegisterForm","touched","setTouched","registered","setRegistered","defaultPrefix","prefixSelector","noStyle","Option","value","defaults","string","rest","validPrefix","unshift","phone","getSplittedPhone","onValuesChange","onUserRegister","pattern","addonBefore","disabled","connect","isAuth","Component","component","render","routeProps","pathname","from","location","Main","mounted","fetchAllData","exact","path","ComposedComponent","datas","fetch","Promise","race","App","basename","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6cdbe185.chunk.js","sourcesContent":["import {AppStateType} from \"../store\";\r\nimport {I_UserData} from \"../../types/app-types\";\r\n\r\nexport const selectFetchingByKey = (state: AppStateType, key: string): boolean =>\r\n  !!state.app.isFetching[key];\r\n\r\nexport const selectErrorByKey = (state: AppStateType, key: string): null | { message: string } =>\r\n  state.app.error[key] ? state.app.error[key] : null;\r\n\r\nexport const selectIsAuth = (state: AppStateType): boolean =>\r\n  !!state.app.userData;\r\n\r\nexport const selectUserData = (state: AppStateType): I_UserData | null =>\r\n  state.app.userData;\r\n","////TYPE Checkers\r\nimport {DataPayloadType, I_listType, I_ticket, I_User} from \"./ticket-types\";\r\n\r\nexport function hasOwnProperty<X extends {}, Y extends PropertyKey>\r\n(obj: X, prop: Y): obj is X & Record<Y, unknown> {\r\n  return obj.hasOwnProperty(prop)\r\n}\r\n\r\nexport function getProperty<T, K extends keyof T>(obj: T, key: K) {\r\n  return obj[key]; // Inferred type is T[K]\r\n}\r\n\r\nexport function isUser(data?: DataPayloadType): I_User | null {\r\n  return data && hasOwnProperty(data, 'name') ? data : null;\r\n}\r\n\r\nexport function isTicket(data: DataPayloadType): I_ticket | null {\r\n  return hasOwnProperty(data, 'listId') && hasOwnProperty(data, 'id') ? data as I_ticket : null;\r\n}\r\n\r\nexport function isList(data: DataPayloadType): I_listType | null {\r\n  return hasOwnProperty(data, 'order') ? data as I_listType : null;\r\n}\r\n","import {hasOwnProperty} from \"../types/typeHelpers\";\r\n\r\nexport type LanguageType = 'eng' | 'pl' | 'rus'\r\nexport const languagesArr:LanguageType[] = ['eng' , 'pl' , 'rus'];\r\ntype LocaleObject = {\r\n  [key in LanguageType]: {\r\n    [key: string]: string\r\n  }\r\n}\r\n\r\n/* ====================\r\n   locale variables (later can be fetched from API)\r\n ==================== */\r\n\r\nconst localeInterface:LocaleObject = {\r\n  eng: {\r\n    time_format: 'MM-DD-YYYY, HH:mm',\r\n    header_profile: 'Profile',\r\n    header_log_out: 'Log Out',\r\n    header_tickets: 'Notes',\r\n\r\n    ticket_page_header: 'Notes',\r\n\r\n    ticket_edit_title: 'Edit Title',\r\n    ticket_edit_content: 'Edit Content',\r\n    ticket_edit_expire_time: 'Set Expire Time',\r\n    ticket_edit_delete: 'Delete Item',\r\n    ticket_edit_move: 'Move to another list',\r\n\r\n    ticket_meta_expire_time: 'Expire time',\r\n    ticket_meta_last_time: 'Last Time Edited ',\r\n\r\n    add_ticket: 'Add new Note to List',\r\n    log_in: 'Log in',\r\n    register_now: 'Register now!',\r\n\r\n    placeholder_password: 'Password',\r\n    placeholder_phone: 'Phone',\r\n    placeholder_name: 'Email address',\r\n\r\n    error_name: 'Please input correct email!',\r\n    error_phone: 'Please input your phone!',\r\n    error_valid_phone: 'Please enter a valid Phone *** *** ****',\r\n    error_password: 'Please input your Password!',\r\n\r\n    button_submit: 'Submit',\r\n\r\n    error_fetch: 'Something went wrong. Try again later.',\r\n    error_login: 'Wrong password or login!',\r\n    error_register: 'User with that email already exists',\r\n  },\r\n  pl: {\r\n    time_format: 'MM-DD-YYYY, HH:mm',\r\n    header_profile: 'Profil',\r\n    header_log_out: 'Wyloguj',\r\n    header_tickets: 'Notatki',\r\n\r\n    ticket_page_header: 'Tvoje Notatki',\r\n\r\n    ticket_edit_title: 'Edytuj tytuł',\r\n    ticket_edit_content: 'Edytuj zawartość',\r\n    ticket_edit_expire_time: 'Ustaw czas wygaśnięcia',\r\n    ticket_edit_delete: 'Usuń przedmiot',\r\n    ticket_edit_move: 'Przejdź do innej listy',\r\n\r\n    ticket_meta_expire_time: 'Data ważności',\r\n    ticket_meta_last_time: 'Ostatnio edytowane',\r\n\r\n    add_ticket: 'Dodaj nową notatkę do listy',\r\n    log_in: 'Zaloguj sie',\r\n    register_now: 'Zarejestruj się teraz!',\r\n\r\n    placeholder_password: 'Hasło',\r\n    placeholder_phone: 'Telefon',\r\n    placeholder_name: 'Adres e-mail',\r\n\r\n    error_name: 'Wprowadź poprawny adres e-mail!',\r\n    error_phone: 'Wprowadź swój numer telefonu!',\r\n    error_valid_phone: 'Podaj prawidłowy telefon *** *** ****',\r\n    error_password: 'Wprowadź swoje hasło!',\r\n\r\n    button_submit: 'Zatwierdź',\r\n\r\n    error_fetch: 'Coś poszło nie tak. Spróbuj ponownie później.',\r\n    error_login: 'Błędne hasło lub login!',\r\n    error_register: 'Użytkownik z tym adresem e-mail już istnieje',\r\n  },\r\n  rus: {\r\n    time_format: 'MM-DD-YYYY, HH:mm',\r\n    header_profile: 'Профиль',\r\n    header_log_out: 'Выйти',\r\n    header_tickets: 'Заметки',\r\n\r\n    ticket_page_header: 'Заметки',\r\n\r\n    ticket_edit_title: 'Редактировать Заголовок',\r\n    ticket_edit_content: 'Редактировать Контент',\r\n    ticket_edit_expire_time: 'Задать время самоуничтожения',\r\n    ticket_edit_delete: 'Удалить',\r\n    ticket_edit_move: 'Переместить в другой лист',\r\n\r\n    ticket_meta_expire_time: 'Время самоуничтожения',\r\n    ticket_meta_last_time: 'Последний редактировавший ',\r\n\r\n    add_ticket: 'Добавить новую заметку в лист',\r\n    log_in: 'Войти',\r\n    register_now: 'Зарегистрироваться!',\r\n\r\n    placeholder_password: 'Пароль',\r\n    placeholder_phone: 'Телефон',\r\n    placeholder_name: 'Email адрес',\r\n\r\n    error_name: 'Пожалуйста, введите правильный email!',\r\n    error_phone: 'Пожалуйста, введите правильный телефон!',\r\n    error_valid_phone: 'Пожалуйста, введите правильный номер в формате *** *** ****',\r\n    error_password: 'Пожалуйста, введите Пароль!',\r\n\r\n    button_submit: 'Подтвердить',\r\n\r\n    error_fetch: 'Что то пошло не так. Повторите позже.',\r\n    error_login: 'Не правильный Пароль или Логин!',\r\n    error_register: 'Пользователь с таким именем уже существует',\r\n  }\r\n};\r\n\r\nexport const getLocale = (lang: LanguageType, key: string): string => {\r\n  let language = localeInterface.eng;\r\n  let res = key;\r\n  if (hasOwnProperty(localeInterface, lang)) {\r\n    language = localeInterface[lang];\r\n  }\r\n  if (hasOwnProperty(language, key)) {\r\n    return language[key] as string;\r\n  }\r\n  return res;\r\n};","import {AppActionsType, GetStateType} from \"../store\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {selectFetchingByKey} from \"../app/selectors\";\r\nimport {batch} from \"react-redux\";\r\nimport {_setError, _setFetching} from \"../app/actions\";\r\nimport {message} from \"antd\";\r\nimport {getLocale} from \"../../constants/languageType\";\r\n\r\n\r\n/* ====================\r\n   function that covers all request actions with errors etc.\r\n ==================== */\r\n\r\nexport function fetchHandler(key: string, callback: (\r\n  dispatch: ThunkDispatch<{}, {}, AppActionsType>,\r\n  getState: GetStateType,\r\n  ) => Promise<boolean | undefined>) {\r\n  return async function (dispatch: ThunkDispatch<{}, {}, AppActionsType>, getState: GetStateType) {\r\n    const language = getState().app.language;\r\n    try {\r\n      const loading = selectFetchingByKey(getState(), key);\r\n      if (!loading) {\r\n        batch(() => {\r\n          dispatch(_setError(key, null));\r\n          dispatch(_setFetching(key, true));\r\n        });\r\n        const response = await callback(dispatch, getState);\r\n        batch(() => {\r\n          dispatch(_setFetching(key, false));\r\n          if (!response) {\r\n            dispatch(_setError(key, 'Nothing Found'));\r\n          }\r\n        });\r\n      }\r\n    } catch (e) {\r\n      const content = e.message ? e.message : e.data?.message ? e.data?.message\r\n        : 'Something went wrong. Try again later.';\r\n      let locErr = getLocale(language, content);\r\n      message.error(locErr);\r\n      batch(() => {\r\n        dispatch(_setError(key, content));\r\n        dispatch(_setFetching(key, false));\r\n      });\r\n    }\r\n  };\r\n}\r\n","import firebase from \"firebase\";\r\n// Required for side-effects\r\nrequire(\"firebase/firestore\");\r\n\r\nfirebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID\r\n});\r\n\r\nconst db = firebase.firestore();\r\n\r\nexport default db;","function getRandomInt(max: number) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\n/* ====================\r\n   random avatar images\r\n ==================== */\r\n\r\nconst avatars = [\r\n  'https://www.monteirolobato.edu.br/public/assets/admin/images/avatars/avatar11_big@2x.png',\r\n  'https://www.monteirolobato.edu.br/public/assets/admin/images/avatars/avatar10_big@2x.png',\r\n  'https://www.monteirolobato.edu.br/public/assets/admin/images/avatars/avatar9_big@2x.png',\r\n  'https://www.monteirolobato.edu.br/public/assets/admin/images/avatars/avatar_notif.png'\r\n];\r\n\r\nexport const getRandomAvatar = () => avatars[getRandomInt(avatars.length)];","import db from '../firebase';\r\nimport {I_UserData} from \"../../types/app-types\";\r\nimport {getRandomAvatar} from \"../../constants/avatarImages\";\r\n\r\n\r\n/* ====================\r\n   users api\r\n   //TODO use firebase auth for login etc.\r\n ==================== */\r\n\r\nexport const appAPI = {\r\n  logIn: async (user: {password: string, name: string}): Promise<never | null | I_UserData> => {\r\n    let res:I_UserData | null = null;\r\n    // read db if exists user with such name\r\n    const snapshot = await db.collection(\"users\")\r\n      .where(\"name\", \"==\", user.name).get();\r\n    snapshot.forEach((doc) => {\r\n      let id = doc.id;\r\n      let common = doc.data() as I_UserData;\r\n      // check if pass matches\r\n      if (user.password === common.password) {\r\n        res = {...common, id, avatar: common.avatar ? common.avatar : getRandomAvatar()}\r\n      }\r\n    });\r\n    // error if no res object\r\n    if (!res) {\r\n      throw new Error('error_login')\r\n    }\r\n    return res;\r\n  },\r\n\r\n  register: async (user: I_UserData): Promise<never | undefined | I_UserData> => {\r\n    let toSend: any = {...user};\r\n    delete toSend.id;\r\n    let exists = false;\r\n    //read db if user with such name exists\r\n    let snapshot = await db.collection('users')\r\n          .where(\"name\", \"==\", user.name).get();\r\n    snapshot.forEach((doc) => {\r\n      if (doc.id) {\r\n        exists = true;\r\n      }\r\n    });\r\n    //exists throw error\r\n    if (exists) {\r\n      throw new Error('error_register');\r\n    } else {\r\n      //post new user and return it\r\n      const res = await db.collection(\"users\").add(toSend);\r\n      if (res && res.id) {\r\n        return {...user, id: res.id};\r\n      }\r\n    }\r\n  }\r\n};","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppActionsType} from \"../store\";\r\nimport {LanguageType} from \"../../constants/languageType\";\r\nimport {fetchHandler} from \"../data/fetchHandler\";\r\nimport {I_LoginData, I_UserData} from \"../../types/app-types\";\r\nimport {appAPI} from \"./appAPI\";\r\n\r\nexport const appActionTypes: {\r\n  SET_IS_FETCHING: 'app/SET_IS_FETCHING'\r\n  SET_ERROR: 'app/SET_ERROR'\r\n  SET_LANGUAGE: 'app/SET_LANGUAGE'\r\n  SET_USER_DATA: 'app/SET_USER_DATA'\r\n} = {\r\n  SET_IS_FETCHING: 'app/SET_IS_FETCHING',\r\n  SET_ERROR: 'app/SET_ERROR',\r\n  SET_LANGUAGE: 'app/SET_LANGUAGE',\r\n  SET_USER_DATA: 'app/SET_USER_DATA'\r\n};\r\n\r\nexport type I_appActions = I_setFetching | I_setError | I_setLanguage | I_setUserData\r\n\r\n//interfaces\r\ninterface I_setFetching {\r\n  type: typeof appActionTypes.SET_IS_FETCHING,\r\n  key: string\r\n  status: boolean\r\n}\r\ninterface I_setError {\r\n  type: typeof appActionTypes.SET_ERROR,\r\n  key: string\r\n  message: null | string\r\n}\r\ninterface I_setLanguage {\r\n  type: typeof appActionTypes.SET_LANGUAGE,\r\n  key: LanguageType\r\n}\r\ninterface I_setUserData {\r\n  type: typeof appActionTypes.SET_USER_DATA,\r\n  data: null | I_UserData\r\n}\r\n\r\n\r\n//Internal ACTIONS CREATORS\r\nexport const _setFetching = (key: string, status: boolean): I_setFetching =>\r\n  ({type: appActionTypes.SET_IS_FETCHING, key, status});\r\n\r\nexport const _setError = (key: string, message: string | null): I_setError =>\r\n  ({type: appActionTypes.SET_ERROR, key, message});\r\n\r\nexport const setUserData = (data: I_UserData | null): I_setUserData =>\r\n  ({type: appActionTypes.SET_USER_DATA, data});\r\n\r\nexport const setLanguage = (key: LanguageType): I_setLanguage =>\r\n  ({type: appActionTypes.SET_LANGUAGE, key});\r\n\r\n\r\n/* ====================\r\n  thunk actions\r\n ==================== */\r\n\r\nexport const logInThunk = (data: I_LoginData) => fetchHandler(\r\n  'logInThunk',\r\n  async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const res = await appAPI.logIn(data);\r\n    if (res) {\r\n      dispatch(setUserData(res));\r\n      return true;\r\n    }\r\n  });\r\n\r\nexport const onUserRegister = (user: I_UserData) => fetchHandler(\r\n  'onUserRegister',\r\n  async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const res = await appAPI.register(user);\r\n    if (res) {\r\n      dispatch(setUserData(res));\r\n      return true;\r\n    }\r\n  });\r\n","import {\r\n  appActionTypes\r\n} from \"./actions\";\r\nimport {I_appState} from \"../../types/app-types\";\r\nimport {AppActionsType} from \"../store\";\r\n\r\nexport const newUserId = '_NEW_USER_ID';\r\n\r\nconst initialState: I_appState = {\r\n  isFetching: {},\r\n  error: {},\r\n  language: 'eng',\r\n  userData: null\r\n};\r\n\r\n\r\nconst appReducer = (state: I_appState = initialState, action: AppActionsType):I_appState => {\r\n  switch (action.type) {\r\n    //setting fetching and frozen status\r\n    case appActionTypes.SET_IS_FETCHING: {\r\n      if (state.isFetching[action.key] && !action.status) {\r\n        let newState = {...state};\r\n        delete newState.isFetching[action.key];\r\n        return newState\r\n      }\r\n      if (!state.isFetching[action.key] && action.status) {\r\n        return {\r\n          ...state,\r\n          isFetching: {...state.isFetching, [action.key]: action.status},\r\n        };\r\n      } else return state;\r\n    }\r\n\r\n    /* ====================\r\n      setting language\r\n     ==================== */\r\n\r\n    case appActionTypes.SET_LANGUAGE: {\r\n      return {\r\n          ...state,\r\n          language: action.key\r\n      };\r\n    }\r\n\r\n    /* ====================\r\n      set error by key\r\n     ==================== */\r\n    case appActionTypes.SET_ERROR: {\r\n      if (state.error[action.key] && !action.message) {\r\n        let newState = {...state};\r\n        delete newState.error[action.key];\r\n        return newState\r\n      }\r\n      if (action.message) {\r\n        return {\r\n          ...state,\r\n          error: {...state.error, [action.key]: {message: action.message}},\r\n        };\r\n      } else return state;\r\n    }\r\n\r\n    /* ====================\r\n      set user data, or null when log out\r\n     ==================== */\r\n\r\n    case appActionTypes.SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        userData: action.data\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport default appReducer;","import db from '../firebase';\r\nimport {I_listType, I_ticket, I_User} from \"../../types/ticket-types\";\r\nimport moment from \"moment\";\r\nimport firebase from \"firebase\";\r\nimport {getRandomAvatar} from \"../../constants/avatarImages\";\r\n\r\nconst {Timestamp} = firebase.firestore;\r\n\r\nconst ticketConverter = (data: I_ticket) => {\r\n  return {\r\n    ...data,\r\n    lastModified: Timestamp.fromDate(new Date()),\r\n    expireTime: Timestamp.fromDate(data.lastModified.toDate()),\r\n  }\r\n};\r\n\r\nexport const ticketsAPI = {\r\n  getTickets: async (): Promise<never | I_ticket[]> => {\r\n    let res:I_ticket[] = [];\r\n    const snapshot = await  db.collection(\"tickets\").get();\r\n    snapshot.forEach((doc) => {\r\n      let id = doc.id;\r\n      let ticket = doc.data() as I_ticket;\r\n      res.push({...ticket, id, lastModified: moment(ticket.lastModified.toDate()), expireTime: moment(ticket.expireTime.toDate())});\r\n    });\r\n    console.log(res);\r\n    return res;\r\n  },\r\n  getLists: async (): Promise<never | I_listType[]> => {\r\n    let res:I_listType[] = [];\r\n    const snapshot = await  db.collection(\"tickerList\").get();\r\n    snapshot.forEach((doc) => {\r\n      let id = doc.id;\r\n      let ticket = doc.data() as I_listType;\r\n      res.push({...ticket, id});\r\n    });\r\n    console.log(res);\r\n    return res;\r\n  },\r\n  getUsers: async (): Promise<never | I_User[]> => {\r\n    let res:I_User[] = [];\r\n    const snapshot = await  db.collection(\"users\").get();\r\n    snapshot.forEach((doc) => {\r\n      let id = doc.id;\r\n      let user = doc.data() as I_User;\r\n      res.push({name: user.name, id, avatar: user.avatar ? user.avatar : getRandomAvatar()});\r\n    });\r\n    return res;\r\n  },\r\n  updateList: async (list: I_listType): Promise<never | I_listType> => {\r\n    await db.collection(\"tickerList\").doc(list.id).set(list);\r\n    return list;\r\n  },\r\n  async addTicket(ticket: I_ticket): Promise<never | undefined | I_ticket> {\r\n    let toSend: any = ticketConverter(ticket);\r\n    const res = await db.collection(\"tickets\").add(toSend);\r\n    if (res && res.id) {\r\n      return {...ticket, id: res.id};\r\n    }\r\n  },\r\n  async updateTicket(ticket: I_ticket): Promise<never | I_ticket> {\r\n    await db.collection(\"tickets\").doc(ticket.id).set(ticketConverter(ticket));\r\n    return {...ticket, lastModified: moment()};\r\n  },\r\n  async deleteTicket(ticket: I_ticket): Promise<never | boolean> {\r\n    await db.collection(\"tickets\").doc(ticket.id).delete();\r\n    return true;\r\n  }\r\n};","import {AppStateType} from \"../store\";\r\nimport {I_listType, I_ticket, I_User} from \"../../types/ticket-types\";\r\nimport {isUser} from \"../../types/typeHelpers\";\r\n\r\nexport const selectListsArr = (state: AppStateType): I_listType[] => {\r\n  let res:I_listType[] = [];\r\n  Object.keys(state.data.list).forEach((key: string) => res.push(state.data.list[key] as I_listType));\r\n  return res;\r\n};\r\n\r\nexport const selectList = (state: AppStateType, listId: string): I_listType => {\r\n  return state.data.list[listId] as I_listType;\r\n};\r\n\r\nexport const selectUser = (state: AppStateType, userId: string): I_User | null =>\r\n  isUser(state.data.user[userId]);\r\n\r\nexport const selectTicketByKey = (state: AppStateType, key: string): I_ticket | null =>\r\n  !!state.data.ticket[key] ? state.data.ticket[key] as I_ticket : null;\r\n","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppActionsType, GetStateType} from \"../store\";\r\nimport {DataPayloadType, DataType, I_listType, I_ticket} from \"../../types/ticket-types\";\r\nimport {ticketsAPI} from \"./api\";\r\nimport {fetchHandler} from \"./fetchHandler\";\r\nimport {newTicketId} from \"./reducer\";\r\nimport {selectList, selectListsArr} from \"./selectors\";\r\nimport {selectUserData} from \"../app/selectors\";\r\nimport {batch} from \"react-redux\";\r\n\r\nexport const ticketsActionTypes: {\r\n  SET_FETCHED_DATA: \"tickets/SET_FETCHED_DATA\"\r\n  UPDATE_ITEM_SUCCESS: \"tickets/UPDATE_ITEM_SUCCESS\"\r\n  DELETE_TICKET_SUCCESS: \"tickets/DELETE_TICKET_SUCCESS\"\r\n} = {\r\n  SET_FETCHED_DATA: \"tickets/SET_FETCHED_DATA\",\r\n  UPDATE_ITEM_SUCCESS: \"tickets/UPDATE_ITEM_SUCCESS\",\r\n  DELETE_TICKET_SUCCESS: \"tickets/DELETE_TICKET_SUCCESS\"\r\n};\r\n\r\nexport type I_dataActions = I_setFetchedData | I_updateItemSuccess |\r\n  I_deleteTicketSuccess\r\n\r\n//interfaces\r\ninterface I_setFetchedData {\r\n  type: typeof ticketsActionTypes.SET_FETCHED_DATA,\r\n  data: Array<DataPayloadType>\r\n  dataType: DataType\r\n}\r\ninterface I_updateItemSuccess {\r\n  type: typeof ticketsActionTypes.UPDATE_ITEM_SUCCESS,\r\n  data: DataPayloadType\r\n  dataType: DataType\r\n}\r\n\r\ninterface I_deleteTicketSuccess {\r\n  type: typeof ticketsActionTypes.DELETE_TICKET_SUCCESS,\r\n  data: I_ticket\r\n}\r\n\r\n//Internal ACTIONS CREATORS\r\n\r\nexport const _updateItemSuccess = (data: DataPayloadType, dataType: DataType): I_updateItemSuccess =>\r\n  ({type: ticketsActionTypes.UPDATE_ITEM_SUCCESS, data, dataType});\r\n\r\nexport const _deleteTicketSuccess = (data: I_ticket): I_deleteTicketSuccess =>\r\n  ({type: ticketsActionTypes.DELETE_TICKET_SUCCESS, data});\r\n\r\nexport const _setFetchedData = (data: DataPayloadType[], dataType: DataType): I_setFetchedData =>\r\n  ({type: ticketsActionTypes.SET_FETCHED_DATA, data, dataType});\r\n\r\n\r\n\r\n/* ====================\r\n  thunk actions\r\n ==================== */\r\n\r\nexport const fetchAllData = () =>\r\n  fetchHandler(\r\n    \"fetchAllData\",\r\n    async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n      //array of data to fetch\r\n      const datas: DataType[] = [\"ticket\", \"list\", \"user\"];\r\n      //promiced function\r\n      let fetch = async (type: DataType) => {\r\n        let res = await ticketsAPI[\r\n          type === \"ticket\" ? \"getTickets\"\r\n          : type === \"list\" ? \"getLists\" : \"getUsers\"]();\r\n        if (res) {\r\n          dispatch(_setFetchedData(res, type));\r\n          return true;\r\n        }\r\n      };\r\n      // racing all data\r\n      const success = await Promise.race(datas.map(d => fetch(d)));\r\n      if (success) {\r\n        return true;\r\n      }\r\n  });\r\n\r\n\r\nexport const onTicketUpdate = (ticket: I_ticket) =>\r\n  fetchHandler(\r\n    `ticket${ticket.id}`,\r\n    async (dispatch: ThunkDispatch<{}, {}, AppActionsType>, getState: GetStateType) => {\r\n      //if data comes with newId\r\n      let isNew = ticket.id === newTicketId;\r\n      let res;\r\n      //user data to set who was updating last\r\n      let userData = selectUserData(getState());\r\n      if (userData && userData.id) {\r\n        if (isNew) {\r\n          res = await ticketsAPI.addTicket({\r\n            ...ticket,\r\n            creatorId: userData.id,\r\n            lastModifiedId: userData.id,\r\n          });\r\n        } else {\r\n          res = await ticketsAPI.updateTicket({...ticket, lastModifiedId: userData.id});\r\n        }\r\n        //after response set data to reducer\r\n        if (res) {\r\n          if (isNew) {\r\n            //set new note to list arr\r\n            let list = selectList(getState(), ticket.listId);\r\n            let listRes = await ticketsAPI.updateList({...list, order: [res.id, ...list.order]});\r\n            if (listRes) {\r\n              dispatch(_updateItemSuccess({...list, order: [res.id, ...list.order]}, \"list\"));\r\n            }\r\n          }\r\n          dispatch(_updateItemSuccess(res, \"ticket\"));\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n\r\nexport const onUpdateList = (list: I_listType) =>\r\n  fetchHandler(\r\n    \"updateList\",\r\n    async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n      const res = await ticketsAPI.updateList(list);\r\n      if (res) {\r\n        dispatch(_updateItemSuccess(res, \"list\"));\r\n        return true;\r\n      }\r\n    });\r\n\r\nexport const onTicketDelete = (data: I_ticket) =>\r\n  fetchHandler(\r\n    `ticket${data.id}`,\r\n    async (dispatch: ThunkDispatch<{}, {}, AppActionsType>, getState: GetStateType) => {\r\n      let list = selectList(getState(), data.listId);\r\n      if (list) {\r\n        const resFrom = await ticketsAPI.updateList({\r\n          ...list, order: list.order.filter(id => id !== data.id)\r\n        });\r\n        if (resFrom) {\r\n          dispatch(_updateItemSuccess(resFrom, 'list'));\r\n        }\r\n        const res = await ticketsAPI.deleteTicket(data);\r\n        if (res) {\r\n          dispatch(_deleteTicketSuccess(data));\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n\r\nexport const onTicketMove = (data: I_ticket) =>\r\n  fetchHandler(\r\n    `ticket${data.id}`,\r\n    async (dispatch: ThunkDispatch<{}, {}, AppActionsType>, getState: GetStateType) => {\r\n      const lists = selectListsArr(getState());\r\n      let userData = selectUserData(getState());\r\n      ///list that should update to remove from id's arr\r\n      let removeFrom: I_listType | null  = null;\r\n      ///list that should update to add new Id to arr\r\n      let addTo: I_listType | null = null;\r\n      ///listId that should update to add new Id to arr\r\n      let addToId: string = '';\r\n      lists.forEach((l: I_listType )=> {\r\n        if (l.id === data.listId) {\r\n          ///set list that should be cleared\r\n          removeFrom = {...l, order: l.order.filter(id => id !== data.id)};\r\n        } else {\r\n          ///set list where to add\r\n          addTo = {...l, order: [data.id, ...l.order]} as I_listType;\r\n          addToId = l.id;\r\n        }\r\n      });\r\n      ///if we have both lists\r\n      if (removeFrom && addToId && addTo && userData) {\r\n        const res = await ticketsAPI.updateTicket({\r\n          ...data, listId: addToId,\r\n          lastModifiedId: userData.id\r\n        });\r\n        const resFrom = await ticketsAPI.updateList(removeFrom);\r\n        const resTo = await ticketsAPI.updateList(addTo);\r\n        if (res && resFrom && resTo) {\r\n          batch(() => {\r\n            dispatch(_updateItemSuccess(res, 'ticket'));\r\n            dispatch(_updateItemSuccess(resFrom, 'list'));\r\n            dispatch(_updateItemSuccess(resTo, 'list'));\r\n          });\r\n          return true;\r\n        }\r\n      }\r\n\r\n    });","import {ticketsActionTypes} from \"./actions\";\r\nimport {DataPayloadType, I_dataState, I_listType} from \"../../types/ticket-types\";\r\nimport {AppActionsType} from \"../store\";\r\nimport moment from \"moment\";\r\nimport {isList} from \"../../types/typeHelpers\";\r\n\r\nexport const newTicketId = '_NEW_TICKET';\r\n\r\nexport const newTicket = {\r\n  id: newTicketId,\r\n  creatorId: '',\r\n  lastModified: moment(),\r\n  lastModifiedId: '',\r\n  listId: '',\r\n  title: 'Untitled',\r\n  content: 'no content',\r\n  expireTime: moment(),\r\n};\r\n\r\nconst initialState:I_dataState = {\r\n  ticket: {\r\n    [newTicketId]: newTicket\r\n  },\r\n  user: {},\r\n  list: {},\r\n};\r\n\r\nconst dataReducer = (state: I_dataState = initialState, action: AppActionsType): I_dataState => {\r\n  switch (action.type) {\r\n    //adding fetched data\r\n    case ticketsActionTypes.SET_FETCHED_DATA: {\r\n      let newState = {...state};\r\n      action.data.forEach((d: DataPayloadType) => {\r\n        newState[action.dataType][d.id] = d;\r\n      });\r\n      if (action.dataType === 'user') {\r\n        console.log(newState)\r\n      }\r\n      return newState;\r\n    }\r\n    //merge common data with existing or create new\r\n    case ticketsActionTypes.UPDATE_ITEM_SUCCESS: {\r\n      let newState = {...state};\r\n      if (newState[action.dataType][action.data.id]) {\r\n        newState[action.dataType][action.data.id] = {\r\n          ...newState[action.dataType][action.data.id],\r\n          ...action.data\r\n        };\r\n      } else {\r\n        newState[action.dataType][action.data.id] = action.data;\r\n      }\r\n\r\n      return newState;\r\n    }\r\n    //delete data\r\n    case ticketsActionTypes.DELETE_TICKET_SUCCESS: {\r\n      let newState = {...state};\r\n      delete newState.ticket[action.data.id];\r\n      let list:I_listType | null = isList(newState.list[action.data.listId]);\r\n      if (list) {\r\n        list.order = list.order.filter(id => id !== action.data.id);\r\n        newState.list[list.id] = list;\r\n      }\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dataReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app/reducer\";\r\nimport {I_appActions} from \"./app/actions\";\r\nimport dataReducer from \"./data/reducer\";\r\nimport {I_dataActions} from \"./data/actions\";\r\n\r\nconst rootReducer = combineReducers({\r\n  app: appReducer,\r\n  data: dataReducer,\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>;\r\nexport type AppActionsType = I_appActions | I_dataActions;\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport type GetStateType = () => AppStateType\r\n\r\nexport default store;","export default __webpack_public_path__ + \"static/media/background-indexed.c45094ac.png\";","import * as React from \"react\";\r\nimport {Avatar, Button, Dropdown, Layout, Menu} from \"antd\";\r\nimport './Header.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport {getLocale, languagesArr, LanguageType} from \"../../constants/languageType\";\r\nimport {I_UserData} from \"../../types/app-types\";\r\nimport logo from '../../assets/logo512.png';\r\nimport headerBackground from '../../assets/background-indexed.png';\r\n\r\nconst {Header} = Layout;\r\n\r\ninterface I_Props {\r\n  userData: I_UserData | null,\r\n  language: LanguageType,\r\n  logOut: () => void\r\n  setLanguage: (val: LanguageType) => void\r\n}\r\n\r\nclass AppHeader extends React.Component<I_Props> {\r\n\r\n  render() {\r\n    const {userData, logOut, language, setLanguage} = this.props;\r\n    let toDisplay = userData && userData.name.length > 5\r\n      ? [...userData.name.split('')].splice(0, 5).join('')\r\n      : userData ? userData.name : '';\r\n    return (\r\n      <Header className=\"custom-header\" style={{backgroundImage: `url(${headerBackground})`}}>\r\n        <Link to={'/'}>\r\n          <img src={logo} className=\"logo\" alt={'logo'}/>\r\n        </Link>\r\n\r\n        <Link to='/tickets' key=\"2\">\r\n          <Button type=\"text\" style={{color: '#fff'}}>\r\n            {getLocale(language, 'header_tickets')}\r\n          </Button>\r\n        </Link>\r\n\r\n        <Dropdown\r\n          overlay={<Menu>\r\n            {userData && <Menu.Item key=\"0\">\r\n              <Button type=\"text\">\r\n                <Link to='/profile' key=\"1\">\r\n                  {getLocale(language, 'header_profile')}\r\n                </Link>\r\n              </Button>\r\n            </Menu.Item>}\r\n\r\n            <Menu.Item key=\"1\">\r\n              <Button type=\"text\" onClick={logOut}>\r\n                <Link to='/login' key=\"2\">\r\n                  {userData ? getLocale(language, 'header_log_out') : getLocale(language, 'log_in')}\r\n                </Link>\r\n              </Button>\r\n            </Menu.Item>\r\n          </Menu>}\r\n        >\r\n          <div style={{float: 'right'}}>\r\n            <Avatar\r\n              src={userData && userData.avatar && userData.avatar}\r\n              style={{backgroundColor: \"#2F80ED\", verticalAlign: 'middle'}}\r\n              size={40}\r\n              gap={1}\r\n            >\r\n              {toDisplay}\r\n            </Avatar>\r\n          </div>\r\n        </Dropdown>\r\n\r\n        <Dropdown\r\n          overlay={<Menu>\r\n            {languagesArr.map(lang => (\r\n              <Menu.Item key={lang}>\r\n                <Button type=\"text\" onClick={() => setLanguage(lang)}>\r\n                  {lang}\r\n                </Button>\r\n              </Menu.Item>\r\n            ))}\r\n          </Menu>}\r\n        >\r\n          <div style={{float: 'right', marginRight: '1rem'}}>\r\n            <Button type=\"text\">\r\n              {language}\r\n            </Button>\r\n          </div>\r\n        </Dropdown>\r\n      </Header>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppHeader;","export default \"data:image/png;base64,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\"","import {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {selectUser} from \"../../redux/data/selectors\";\r\nimport Meta from \"antd/lib/card/Meta\";\r\nimport {Avatar} from \"antd\";\r\nimport * as React from \"react\";\r\n\r\ninterface I_MetaProps {\r\n  lastModified: string,\r\n  userId: string\r\n}\r\n\r\nexport const TicketMeta: React.FC<I_MetaProps> = ({lastModified, userId}) => {\r\n  const user = useSelector((state: AppStateType) => selectUser(state, userId));\r\n  return (\r\n    <Meta\r\n      avatar={<Avatar src={user && user.avatar && user.avatar}/>}\r\n      title={user && user.name ? user.name : \"no name\"}\r\n      description={lastModified}\r\n    />\r\n  )\r\n};","import * as React from \"react\";\r\nimport {useCallback, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {\r\n  ArrowsAltOutlined,\r\n  ClockCircleOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  EllipsisOutlined\r\n} from '@ant-design/icons';\r\nimport './ticket.css';\r\nimport {Button, Card, DatePicker, Dropdown, Menu, Spin, Tooltip, Typography} from \"antd\";\r\nimport {getLocale} from \"../../constants/languageType\";\r\nimport {selectTicketByKey} from \"../../redux/data/selectors\";\r\nimport {onTicketDelete, onTicketMove, onTicketUpdate} from \"../../redux/data/actions\";\r\nimport {hasOwnProperty} from \"../../types/typeHelpers\";\r\nimport {selectFetchingByKey} from \"../../redux/app/selectors\";\r\nimport moment, {Moment} from \"moment\";\r\nimport {TicketMeta} from \"./TicketMeta\";\r\n\r\nconst {Text, Title} = Typography;\r\n\r\ninterface TicketProps {\r\n  ticketId: string\r\n}\r\n\r\ninterface I_MenuItem {\r\n  action: () => void,\r\n  title: string,\r\n  icon: React.ReactElement\r\n}\r\n\r\nfunction disabledDate(current: Moment) {\r\n  // Can not select days before today and today\r\n  return current && current < moment().endOf('day');\r\n}\r\n\r\nconst Ticket: React.FC<TicketProps> = ({ticketId}) => {\r\n  const {ticket, language, loading} = useSelector((state: AppStateType) =>\r\n    ({\r\n      ticket: selectTicketByKey(state, ticketId),\r\n      loading: selectFetchingByKey(state, `ticket${ticketId}`),\r\n      language: state.app.language\r\n    }));\r\n  const [editField, setEditField] = useState<null | 'title' | 'content' | 'expireTime'>(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const deleteItem = useCallback(() => {\r\n    if (ticket) {\r\n      dispatch(onTicketDelete(ticket))\r\n    }\r\n  }, [editField]);\r\n\r\n  const moveItem = useCallback(() => {\r\n    if (ticket) {\r\n      dispatch(onTicketMove(ticket))\r\n    }\r\n  }, [ticket]);\r\n\r\n  const menu: I_MenuItem[] = [\r\n    {\r\n      action: () => setEditField('title'),\r\n      title: getLocale(language, 'ticket_edit_title'),\r\n      icon: <EditOutlined style={{fontSize: '1rem'}}/>\r\n    },\r\n    {\r\n      action: () => setEditField('content'),\r\n      title: getLocale(language, 'ticket_edit_content'),\r\n      icon: <EditOutlined style={{fontSize: '1rem'}}/>\r\n    },\r\n    {\r\n      action: () => setEditField('expireTime'),\r\n      title: getLocale(language, 'ticket_edit_expire_time'),\r\n      icon: <ClockCircleOutlined style={{fontSize: '1rem'}}/>\r\n    },\r\n    {\r\n      action: () => moveItem(),\r\n      title: getLocale(language, 'ticket_edit_move'),\r\n      icon: <ArrowsAltOutlined style={{fontSize: '1rem'}}/>\r\n    },\r\n    {\r\n      action: () => deleteItem(),\r\n      title: getLocale(language, 'ticket_edit_delete'),\r\n      icon: <DeleteOutlined style={{fontSize: '1rem', color: \"#ff0000\"}}/>\r\n    },\r\n  ];\r\n\r\n  const onUpdate = (val: string | Moment) => {\r\n    if (ticket && editField && val && hasOwnProperty(ticket, editField)) {\r\n      if (typeof val === 'string') {\r\n        if (val !== ticket[editField]) {\r\n          dispatch(onTicketUpdate({...ticket, [editField]: val}))\r\n        }\r\n      } else {\r\n        dispatch(onTicketUpdate({...ticket, [editField]: val}))\r\n      }\r\n    }\r\n    setEditField(null);\r\n  };\r\n\r\n  return !ticket ? null : (\r\n    <Spin spinning={loading}>\r\n      <Card\r\n          title={editField === 'expireTime' ? <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          disabledDate={disabledDate}\r\n          defaultValue={ticket.expireTime}\r\n          showTime={false}\r\n          onChange={(val) => val && onUpdate(val)}\r\n        /> : <Title\r\n          style={{fontSize: '1.2rem'}}\r\n          editable={{\r\n            icon: <span/>,\r\n            editing: editField === 'title',\r\n            onChange: (val) => onUpdate(val),\r\n          }}>\r\n          {ticket.title}\r\n        </Title>}\r\n        extra={<Dropdown\r\n          trigger={['click']}\r\n          overlay={<Menu>\r\n            {menu.map((it, i: number) => (\r\n              <Menu.Item key={\"menu\" + i}>\r\n                <Button type=\"text\" onClick={it.action}>\r\n                  {it.icon}\r\n                  {it.title}\r\n                </Button>\r\n              </Menu.Item>\r\n            ))}\r\n          </Menu>}\r\n        >\r\n          <EllipsisOutlined key=\"menu\"/>\r\n        </Dropdown>}\r\n        style={{width: 330, margin: '0 1rem 2rem 0.3rem'}}\r\n          actions={[\r\n            <Tooltip\r\n              title={`${ticket.expireTime.format(getLocale(language, 'time_format'))}`}\r\n            >\r\n          <span\r\n            style={ticket.expireTime.isBefore(moment()) ? {color: 'red'} : {}}\r\n          >\r\n            {getLocale(language, 'ticket_meta_expire_time')}:\r\n          </span>\r\n            </Tooltip>,\r\n            <span\r\n              style={ticket.expireTime.isBefore(moment()) ? {color: 'red'} : {}}\r\n            >\r\n            <ClockCircleOutlined style={{fontSize: '1rem', margin: '0 0.3rem'}}/>\r\n              {`${ticket.expireTime.format(getLocale(language, 'time_format'))}`}\r\n          </span>\r\n          ]}\r\n      >\r\n        <div className=\"ticket-content-wrapper\">\r\n          {/*TODO: replace text with content editable*/}\r\n          <Text\r\n            editable={{\r\n              editing: editField === 'content',\r\n              icon: <span/>,\r\n              onChange: (val) => onUpdate(val),\r\n            }}\r\n          >\r\n            {ticket.content}\r\n          </Text>\r\n        </div>\r\n        <TicketMeta\r\n          userId={ticket.lastModifiedId}\r\n          lastModified={`${getLocale(language, 'ticket_meta_last_time')} ${ticket.lastModified.format(getLocale(language, 'time_format'))}`}\r\n        />\r\n      </Card>\r\n    </Spin>\r\n  )\r\n};\r\n\r\nexport default Ticket;","import * as React from \"react\";\r\nimport {useCallback} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {SettingOutlined, EditOutlined} from '@ant-design/icons';\r\nimport {selectListsArr} from \"../../redux/data/selectors\";\r\nimport {onTicketUpdate, onUpdateList} from \"../../redux/data/actions\";\r\nimport './ticketsView.css';\r\nimport {Collapse, Tooltip} from \"antd\";\r\nimport {newTicket} from \"../../redux/data/reducer\";\r\nimport {I_listType} from \"../../types/ticket-types\";\r\nimport {getLocale} from \"../../constants/languageType\";\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport Ticket from \"../../components/Ticket/Ticket\";\r\n\r\nconst {Panel} = Collapse;\r\n\r\ninterface PageProps {\r\n}\r\n\r\nconst TicketPage: React.FC<PageProps> = () => {\r\n  const {lists, language} = useSelector((state: AppStateType) =>\r\n    ({\r\n      language: state.app.language,\r\n      lists: selectListsArr(state),\r\n    }));\r\n  const dispatch = useDispatch();\r\n\r\n  const updateList = useCallback((list: I_listType) =>\r\n    dispatch(onUpdateList(list)), []);\r\n\r\n  const getExtra = (listId: string) => (\r\n    <Tooltip title={getLocale(language, 'add_ticket')}>\r\n      <SettingOutlined\r\n        onClick={event => {\r\n          event.stopPropagation();\r\n          dispatch(onTicketUpdate({...newTicket, listId}));\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h1>{getLocale(language, 'ticket_page_header')}</h1>\r\n      <div className=\"page-wrapper\">\r\n        {lists.map(list => (\r\n          <Collapse defaultActiveKey={[list.id]}\r\n                    style={{margin: '0 2rem 3rem 0'}}>\r\n            <Panel\r\n              header={\r\n                  <Text style={{fontSize: '1.2rem', maxWidth: '80%'}} editable={{\r\n                    icon: <EditOutlined style={{fontSize: '1rem'}}/>,\r\n                    onChange: (val: string) => updateList({...list, title: val})\r\n                  }}>\r\n                    {list.title}\r\n                  </Text>\r\n              }\r\n              key={list.id}\r\n              extra={getExtra(list.id)}\r\n              style={{maxHeight: \"80vh\", minWidth: \"350px\"}}\r\n            >\r\n              <div className=\"ticket-list-wrapper\">\r\n                {list.order.map(id => <Ticket ticketId={id}/>)}\r\n              </div>\r\n            </Panel>\r\n          </Collapse>))}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default TicketPage;","import {Button, Form, Input} from 'antd';\r\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\r\nimport {getLocale} from \"../../constants/languageType\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {logInThunk} from \"../../redux/app/actions\";\r\nimport {selectFetchingByKey, selectUserData} from \"../../redux/app/selectors\";\r\nimport * as React from \"react\";\r\n\r\nconst LoginForm = () => {\r\n  const {language, loading, userData} = useSelector((state: AppStateType) => ({\r\n    language: state.app.language,\r\n    loading: selectFetchingByKey(state, 'logInThunk'),\r\n    userData: selectUserData(state)\r\n  }));\r\n  const dispatch = useDispatch();\r\n  const onFinish = (values: any) => {\r\n    dispatch(logInThunk({name: values.name, password: values.password}));\r\n    console.log('Received values of form: ', values);\r\n  };\r\n\r\n  return userData && userData.id ? <Redirect to={'/'}/> : (\r\n    <Form\r\n      name=\"normal_login\"\r\n      className=\"login-form\"\r\n      initialValues={{ remember: true }}\r\n      onFinish={onFinish}\r\n    >\r\n      <Form.Item\r\n        label={getLocale(language, 'placeholder_name')}\r\n        name=\"name\"\r\n        rules={[{ required: true, message: getLocale(language, 'error_name'), type: 'email' }]}\r\n      >\r\n        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder={getLocale(language, 'placeholder_name')} />\r\n      </Form.Item>\r\n      <Form.Item\r\n        label={getLocale(language, 'placeholder_password')}\r\n        name=\"password\"\r\n        rules={[{ required: true, message: getLocale(language, 'error_password') }]}\r\n      >\r\n        <Input.Password\r\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n          type=\"password\"\r\n          placeholder={getLocale(language, 'placeholder_password')}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n          {getLocale(language,'log_in')}\r\n        </Button>\r\n        <span style={{float: 'right'}}>\r\n          <Link to={'/register'}>{getLocale(language, 'register_now')}</Link>\r\n        </span>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import * as React from \"react\";\r\nimport {Button, Form, Input, Select} from 'antd';\r\nimport {I_UserData} from \"../../types/app-types\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {selectFetchingByKey, selectUserData} from \"../../redux/app/selectors\";\r\nimport {newUserId} from \"../../redux/app/reducer\";\r\nimport {onUserRegister} from \"../../redux/app/actions\";\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {useState} from \"react\";\r\nimport {getRandomAvatar} from \"../../constants/avatarImages\";\r\nimport {Redirect} from \"react-router\";\r\nimport {getLocale} from \"../../constants/languageType\";\r\n\r\ninterface UserFormProps {\r\n  user?: I_UserData | null\r\n}\r\n\r\nconst UserRegisterForm: React.FC<UserFormProps> = ({user}) => {\r\n  const dispatch = useDispatch();\r\n  const {loading, userData, language} = useSelector((state: AppStateType) => ({\r\n    language: state.app.language,\r\n    loading: selectFetchingByKey(state, 'onUserRegister'),\r\n    userData: selectUserData(state)\r\n  }));\r\n  const [touched, setTouched] = useState(false);\r\n  const [registered, setRegistered] = useState(!userData);\r\n\r\n  const phoneRegExp = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\r\n  const defaultPrefix = \"86\";\r\n\r\n  const onFinish = (values: any) => {\r\n    dispatch(onUserRegister({\r\n      id: user ? user.id : newUserId,\r\n      name: values.name,\r\n      avatar: getRandomAvatar(),\r\n      phone: `+${values.prefix ? values.prefix : defaultPrefix}-${values.phone}`,\r\n      password: values.password\r\n    }));\r\n    setRegistered(true);\r\n  };\r\n\r\n  const prefixSelector = (\r\n    <Form.Item name=\"prefix\" noStyle>\r\n      <Select style={{ width: 70 }}>\r\n        <Select.Option value=\"86\">+86</Select.Option>\r\n        <Select.Option value=\"87\">+87</Select.Option>\r\n      </Select>\r\n    </Form.Item>\r\n  );\r\n\r\n  let getSplittedPhone = (string: string) => {\r\n    let [prefix, ...rest] = string.split(\"-\");\r\n    let validPrefix = prefix.length === 3;\r\n    if (!validPrefix) {\r\n      rest.unshift(prefix)\r\n    }\r\n    return {prefix: validPrefix ? prefix : defaultPrefix, phone: rest.join('')};\r\n  };\r\n\r\n  let defaults = user ? {\r\n    ...user,\r\n    ...getSplittedPhone(user.phone)\r\n  } : {\r\n    prefix: defaultPrefix,\r\n  };\r\n\r\n  return userData && registered ? <Redirect to={'/'} /> : (\r\n    <Form\r\n      onValuesChange={() => setTouched(true)}\r\n      name=\"user\"\r\n      initialValues={defaults}\r\n      onFinish={onFinish}\r\n    >\r\n      <Form.Item\r\n        name=\"name\"\r\n        rules={[{required: true, message: getLocale(language,'error_name'), type: 'email'}]}\r\n      >\r\n        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n               placeholder={'placeholder_name'}/>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"phone\"\r\n        rules={[\r\n          {required: true, message: getLocale(language,'error_phone')},\r\n          {pattern: phoneRegExp,\r\n            message: getLocale(language,'error_valid_phone'),}\r\n        ]}\r\n      >\r\n        <Input addonBefore={prefixSelector} style={{ width: '100%' }}\r\n               placeholder={getLocale(language, 'placeholder_phone')} />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"password\"\r\n        rules={[{ required: true, message: getLocale(language,'error_password')}]}\r\n      >\r\n        <Input\r\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n          type=\"password\"\r\n          placeholder={getLocale(language, 'placeholder_password')}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" loading={loading} disabled={!touched}>\r\n          {getLocale(language, 'button_submit')}\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n};\r\n\r\nexport default UserRegisterForm;\r\n","import {connect} from 'react-redux';\r\nimport * as React from 'react';\r\nimport {Redirect, Route, RouteProps,} from 'react-router-dom';\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {selectIsAuth} from \"../../redux/app/selectors\";\r\n\r\ninterface PrivateRouteProps extends RouteProps {\r\n    component: any;\r\n    isAuth: boolean;\r\n}\r\n\r\nconst ProtectedRoute = (props: PrivateRouteProps) => {\r\n    const { component: Component, isAuth, ...rest } = props;\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(routeProps) =>\r\n                isAuth ? (\r\n                    <Component {...routeProps} {...rest} />\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: '/login',\r\n                            state: { from: routeProps.location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({isAuth: selectIsAuth(state)});\r\n\r\nexport default connect(mapStateToProps, {})(ProtectedRoute);\r\n","import React, {Component} from 'react';\r\nimport {Redirect, Route, Switch} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\nimport {selectErrorByKey, selectFetchingByKey, selectUserData} from \"./redux/app/selectors\";\r\nimport {AppStateType} from \"./redux/store\";\r\nimport Header from \"./components/Header/Header\";\r\nimport {fetchAllData} from \"./redux/data/actions\";\r\nimport TicketPage from \"./views/tickers/TickersView\";\r\nimport LoginForm from \"./views/login/LogInForm\";\r\nimport UserRegisterForm from \"./views/register/RegisterForm\";\r\nimport ProtectedRoute from \"./components/common/ProtectedRoute\";\r\nimport {I_UserData} from \"./types/app-types\";\r\nimport {setLanguage, setUserData} from \"./redux/app/actions\";\r\nimport {LanguageType} from \"./constants/languageType\";\r\n\r\ninterface I_props {}\r\n\r\ninterface I_connectedProps {\r\n  error: { message: string } | null\r\n  isFetching: boolean,\r\n  userData: I_UserData | null\r\n  language: LanguageType\r\n}\r\n\r\ninterface I_dispatchedProps {\r\n  fetchAllData: () => void\r\n  setUserData: (data: I_UserData | null) => void\r\n  setLanguage: (val: LanguageType) => void\r\n}\r\n\r\ninterface I_MainProps extends I_props, I_connectedProps, I_dispatchedProps {}\r\n\r\ninterface I_MainState {\r\n  mounted: boolean\r\n}\r\n\r\nclass Main extends Component<I_MainProps, I_MainState> {\r\n  constructor(props: I_MainProps) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchAllData();\r\n  }\r\n\r\n  render() {\r\n    const {setUserData, userData, language, setLanguage} = this.props;\r\n    return (\r\n      <div className={\"main-wrapper\"}>\r\n        <main>\r\n          <Header userData={userData}\r\n                  setLanguage={setLanguage}\r\n                  language={language}\r\n                  logOut={() => setUserData(null)}/>\r\n          <div className={\"content-wrapper\"}>\r\n            <Switch>\r\n              <Route exact path=\"/\"\r\n                     render={() => <Redirect to={\"/tickets\"}/>}/>\r\n              <Route exact path=\"/login\"\r\n                     component={() => <LoginForm />}/>\r\n              <Route exact path=\"/register\"\r\n                     component={() => <UserRegisterForm />}/>\r\n              <ProtectedRoute\r\n                path=\"/profile\"\r\n                component={() => (\r\n                  <UserRegisterForm user={userData} />\r\n                )}\r\n              />\r\n\r\n              <ProtectedRoute\r\n                path=\"/tickets\"\r\n                component={() => (\r\n                  <TicketPage />\r\n                )}\r\n              />\r\n\r\n              <Route path=\"*\" render={() => <div>Error 404</div>}/>\r\n            </Switch>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): I_connectedProps => {\r\n  return {\r\n    error: selectErrorByKey(state, 'fetchTickets'),\r\n    isFetching: selectFetchingByKey(state, 'fetchTickets'),\r\n    userData: selectUserData(state),\r\n    language: state.app.language\r\n  }\r\n};\r\n\r\nlet ComposedComponent = connect(\r\n  mapStateToProps, {fetchAllData, setUserData, setLanguage}\r\n)(Main);\r\n\r\nexport default ComposedComponent;","import React from 'react';\nimport './App.css';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\nimport Main from \"./Main\";\nimport {HashRouter as Router} from \"react-router-dom\";\n\nrequire('./index.less');\n\nconst App: React.FC = () => {\n  return (\n    <Router basename={''}>\n      <Provider store={store}>\n        <Main/>\n      </Provider>\n    </Router>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nrequire('./index.less');\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}